{
  "version": "2.0.0",
  "tasks": [

    // 定义两个任务：cmake: configure 和 cmake: build
    {
      "label": "cmake: configure",      // 任务名称（用户可见）
      "type": "shell",                  // 任务类型（shell 表示在终端中运行）
      "command": "cmake",               // 主命令（调用 CMake）
      "args": [
        "--preset",                     // 参数 1：指定 CMake 预设
        "${input:cmakePreset}",         // 动态输入变量（用户选择预设）
        "-B",                           // 参数 2：指定构建目录
        "${workspaceFolder}/build"      // 构建目录路径（固定为项目根目录下的 build）
      ],
      "options": {
        "cwd": "${workspaceFolder}"     // 工作目录设置为项目根目录
      },
      "group": {                        // 任务分组
        "kind": "build",                // 属于 "build" 组
        "isDefault": true               // 设为默认构建任务（可通过 Ctrl+Shift+B 触发）
      }, 
      "detail": "Configure CMake project" // 任务描述
    },

    {
      "label": "cmake: build",          // 任务名称（用户可见）
      "type": "shell",                  // 任务类型
      "command": "cmake",               // 主命令（调用 CMake）
      "args": [
        "--build",                      // 参数 1：执行构建操作
        "${workspaceFolder}/build",     // 参数 2：构建目录路径
        "--config",                     // 参数 3：指定构建类型
        "${input:buildType}"            // 动态输入变量（用户选择 Debug/Release）
      ],
      "options": {
        "cwd": "${workspaceFolder}"     // 工作目录
      },
      "group": "build",                 // 属于 "build" 组（非默认）
      "detail": "Build CMake project"   // 任务描述
    }
  ],

  // 定义动态输入参数
  "inputs": [                           // 定义动态输入参数
    {
      "id": "cmakePreset",              // 输入 ID（与任务中的 ${input:cmakePreset} 对应）
      "type": "pickString",             // 输入类型：下拉选择
      "description": "Select CMake Preset:",
      "options": ["windows-msvc", "windows-clang", "linux-clang", "macos-clang"], // 可选项
      "default": "windows-msvc"         // 默认值
    },
    {
      "id": "buildType",                // 输入 ID（构建类型）
      "type": "pickString",
      "description": "Select Build Type:",
      "options": ["Debug", "Release"],
      "default": "Debug"
    }
  ]
}